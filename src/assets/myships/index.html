<!DOCTYPE html>
<html>
<head><meta charset="utf-8">
	<title>ships</title>
	<style>#map,body,html{margin:0;padding:0;width:100%;height:100%}.ol-popup{position:absolute;background-color:#fff;-webkit-filter:drop-shadow(0 1px 4px rgba(0,0,0,.2));filter:drop-shadow(0 1px 4px rgba(0,0,0,.2));padding:15px;border-radius:10px;border:1px solid #ccc;bottom:12px;left:-50px;min-width:180px}.ol-popup:after,.ol-popup:before{top:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.ol-popup:after{border-top-color:#fff;border-width:10px;left:48px;margin-left:-10px}.ol-popup:before{border-top-color:#ccc;border-width:11px;left:48px;margin-left:-11px}.ol-popup-closer{text-decoration:none;position:absolute;top:2px;right:8px}.ol-popup-closer:after{content:"✖"}</style>
	<link rel="stylesheet" href="myships.87e34a8b.css">
  <script src="../mui/mui.min.js"></script>
	</head>
	<body>
	<div id="map"></div>
	<div id="popup" class="ol-popup">
	<a href="#" id="popup-closer" class="ol-popup-closer"></a>
	<div id="popup-content"></div>
	</div>
	<div style="position:absolute;right:200px;top:0;">
	<button id="addBtn">添加船舶</button> <button id="addOwnBtn">添加红色</button> <button id="selectBtn">选中船舶</button> <button id="disBtn">全球分布图</button>
	</div>
	<script src="myships.e9bc762a.js"></script>
	<script>
	//i:id,n:name,o:lon,a:lat,d:direction,h:heading,s:speed,t:time,w:width,l:length
		$("#addBtn").click(function () {
			map.clearSelect();
			console.log("添加船舶");
			let ships = [{i:"1",n:"测试船舶1",o:randomNum(121,125),a:randomNum(29,30),d:randomNum(0,360),h:0,s:randomNum(1,15),t:1558862689,w:randomNum(10,100),l:randomNum(50,500)},
				{i:"2",n:"测试船舶2",o:randomNum(121,125),a:randomNum(29,30),d:randomNum(0,360),h:0,s:randomNum(1,15),t:1558862689,w:randomNum(10,100),l:randomNum(50,500)},
				{i:"3",n:"测试船舶3",o:randomNum(121,125),a:randomNum(29,30),d:randomNum(0,360),h:0,s:randomNum(1,15),t:1558862689,w:randomNum(10,100),l:randomNum(50,500)},
				{i:"4",n:"测试船舶4",o:randomNum(121,125),a:randomNum(29,30),d:randomNum(0,360),h:0,s:randomNum(1,15),t:1558862689,w:randomNum(10,100),l:randomNum(50,500)},
				{i:"5",n:"测试船舶5",o:randomNum(121,125),a:randomNum(29,30),d:randomNum(0,360),h:0,s:randomNum(1,15),t:1558862689,w:randomNum(10,100),l:randomNum(50,500)},
				{i:"6",n:"测试船舶6",o:randomNum(121,125),a:randomNum(29,30),d:randomNum(0,360),h:0,s:randomNum(1,15),t:1558862689,w:randomNum(10,100),l:randomNum(50,500)},
				{i:"7",n:"测试船舶7",o:randomNum(121,125),a:randomNum(29,30),d:randomNum(0,360),h:0,s:randomNum(1,15),t:1558862689,w:randomNum(10,100),l:randomNum(50,500)},
				{i:"8",n:"测试船舶8",o:randomNum(121,125),a:randomNum(29,30),d:randomNum(0,360),h:0,s:randomNum(1,15),t:1558862689,w:randomNum(10,100),l:randomNum(50,500)},
				{i:"9",n:"测试船舶9",o:randomNum(121,125),a:randomNum(29,30),d:randomNum(0,360),h:0,s:randomNum(1,15),t:1558862689,w:randomNum(10,100),l:randomNum(50,500)}];
			for(let j = 0;j<500;j++){
				ships.push({i:"a"+j,n:"测试船舶a"+j,o:randomNum(-179,179),a:randomNum(-89,89),d:randomNum(0,360),h:null,s:randomNum(1,15),t:1558862689,w:randomNum(10,100),l:randomNum(50,500)})
			}
			map.showShips(ships);
		});
		var selectId = 0;
		$("#selectBtn").click(function () {
			selectId  = (selectId+1)%9;
			let geo = map.shipSource.getFeatureById(""+selectId).get("geom").getFirstCoordinate();
			map.showSelect(geo);
			map.moveTo(geo);
		});

		$("#addOwnBtn").click(function () {
			map.showOwn({i:"m1",n:"我的船舶",o:randomNum(121,122),a:randomNum(29,30),d:randomNum(0,360),h:0,s:randomNum(1,15),t:1558862689,w:50,l:120});
		});

		$("#disBtn").click(function () {
			map.showDis();
		});

	map.showOwn({i:"m1",n:"我的船舶",o:randomNum(121,122),a:randomNum(29,30),d:randomNum(0,360),h:0,s:randomNum(1,15),t:1558862689,w:50,l:120});

	//生成从minNum到maxNum的随机数
	function randomNum(minNum,maxNum){
		switch(arguments.length){
			case 1:
				return Math.random()*minNum+1;
				break;
			case 2:
				return Math.random()*(maxNum-minNum+1)+minNum;
				break;
			default:
				return 0;
				break;
		}
	}

</script>
	</body>
</html>
